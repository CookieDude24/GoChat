import{i as j,b as G,h,d as L,e as P,g as m,j as c,q as Z,U as w,k as E,m as T,l as q,n as A,o as C,u as y,v as p,w as g,x as z,y as B}from"./Ch4HhSdZ.js";const x=0,l=1,b=2;function J(D,H,n,I,o){h&&L();var i=D,N=j(),U=B,a=w,r,s,t,_=(N?E:T)(void 0),v=(N?E:T)(void 0),d=!1;function u(e,f){d=!0,f&&(q(k),A(k),C(U));try{e===x&&n&&(r?y(r):r=c(()=>n(i))),e===l&&I&&(s?y(s):s=c(()=>I(i,_))),e===b&&o&&(t?y(t):t=c(()=>o(i,v))),e!==x&&r&&p(r,()=>r=null),e!==l&&s&&p(s,()=>s=null),e!==b&&t&&p(t,()=>t=null)}finally{f&&(C(null),A(null),q(null),g())}}var k=G(()=>{if(a!==(a=H())){if(P(a)){var e=a;d=!1,e.then(f=>{e===a&&(m(_,f),u(l,!0))},f=>{if(e===a&&(m(v,f),u(b,!0),!o))throw v.v}),h?n&&(r=c(()=>n(i))):Z(()=>{d||u(x,!0)})}else m(_,a),u(l,!1);return()=>a=w}});h&&(i=z)}export{J as a};
