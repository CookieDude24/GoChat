import{X as y,a4 as F,a5 as N,a6 as p,a7 as M,i as l,I as U,e as T,a8 as x,a9 as z,A as L,aa as G,ab as $,ac as H,ad as V,S as X,ae as Z,k as B,af as j,Y as C,ag as J,z as K}from"./OeBgpfWH.js";import{p as Q}from"./CQ_fv8ng.js";let c=!1;function W(r){var a=c;try{return c=!1,[r(),c]}finally{c=a}}function D(r){for(var a=C,n=C;a!==null&&!(a.f&(x|z));)a=a.parent;try{return L(a),r()}finally{L(n)}}function ae(r,a,n,v){var h;var m=(n&G)!==0,d=!$||(n&H)!==0,o=(n&V)!==0,Y=(n&J)!==0,R=!1,t;o?[t,R]=W(()=>r[a]):t=r[a];var q=X in r||Z in r,_=o&&(((h=y(r,a))==null?void 0:h.set)??(q&&a in r&&(e=>r[a]=e)))||void 0,i=v,P=!0,S=!1,g=()=>(S=!0,P&&(P=!1,Y?i=T(v):i=v),i);t===void 0&&v!==void 0&&(_&&d&&F(),t=g(),_&&_(t));var f;if(d)f=()=>{var e=r[a];return e===void 0?g():(P=!0,S=!1,e)};else{var A=D(()=>(m?B:j)(()=>r[a]));A.f|=N,f=()=>{var e=l(A);return e!==void 0&&(i=void 0),e===void 0?i:e}}if(!(n&p))return f;if(_){var w=r.$$legacy;return function(e,u){return arguments.length>0?((!d||!u||w||R)&&_(u?f():e),e):f()}}var E=!1,O=!1,I=K(t),s=D(()=>B(()=>{var e=f(),u=l(I);return E?(E=!1,O=!0,u):(O=!1,I.v=e)}));return m||(s.equals=M),function(e,u){if(arguments.length>0){const b=u?l(s):d&&o?Q(e):e;return s.equals(b)||(E=!0,U(I,b),S&&i!==void 0&&(i=b),T(()=>l(s))),e}return l(s)}}export{ae as p};
