import{l as U,m as z,n as m,o as B,q as F,v as h,w as c,x as L,U as k,y as w,z as A,A as C,B as D,C as T,D as y,E as p,F as P,G as Z,d as j}from"./OeBgpfWH.js";const x=0,l=1,I=2;function K(q,G,n,N,o){m&&B();var i=q,b=U(),H=j,a=k,r,s,t,_=(b?w:A)(void 0),v=(b?w:A)(void 0),d=!1;function u(e,f){d=!0,f&&(C(E),D(E),T(H));try{e===x&&n&&(r?y(r):r=c(()=>n(i))),e===l&&N&&(s?y(s):s=c(()=>N(i,_))),e===I&&o&&(t?y(t):t=c(()=>o(i,v))),e!==x&&r&&p(r,()=>r=null),e!==l&&s&&p(s,()=>s=null),e!==I&&t&&p(t,()=>t=null)}finally{f&&(T(null),D(null),C(null),P())}}var E=z(()=>{if(a!==(a=G())){if(F(a)){var e=a;d=!1,e.then(f=>{e===a&&(h(_,f),u(l,!0))},f=>{if(e===a&&(h(v,f),u(I,!0),!o))throw v.v}),m?n&&(r=c(()=>n(i))):L(()=>{d||u(x,!0)})}else h(_,a),u(l,!1);return()=>a=k}});m&&(i=Z)}export{K as a};
