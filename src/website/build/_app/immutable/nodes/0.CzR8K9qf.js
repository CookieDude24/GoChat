import{a as g,t as w,c as ze}from"../chunks/ekuua-q1.js";import"../chunks/uIgaGQJN.js";import{l as Xe,aL as Ye,aM as Ge,m as Je,n as ue,o as Me,E as Qe,w as et,U as tt,G as nt,p as $e,J as X,f as F,t as U,a as Ne,I as E,s as z,i as L,c as O,K as ie,r as j}from"../chunks/OeBgpfWH.js";import{U as P,s as T,t as Y,a as G}from"../chunks/zbrIkN8n.js";import{i as at}from"../chunks/K4PkgYYa.js";import{p as rt}from"../chunks/Cw1NRKZg.js";import{d as it}from"../chunks/B2dZsSmx.js";import{a as we}from"../chunks/Cay-WHhk.js";import{i as oe}from"../chunks/tno_urru.js";import{s as Le}from"../chunks/Ckmd1NMn.js";import{p as B}from"../chunks/CQ_fv8ng.js";import{o as ot}from"../chunks/B4VyiVCG.js";import{o as ct,a as st}from"../chunks/xDksRHV0.js";import{p as S}from"../chunks/Dp0QopKu.js";function lt(e,t,n){ue&&Me();var a=e,o=tt,r,i=Xe()?Ye:Ge;Je(()=>{i(o,o=t())&&(r&&Qe(r),r=et(()=>n(a)))}),ue&&(a=nt)}function Te(e,t,n,a,o){var c;ue&&Me();var r=(c=t.$$slots)==null?void 0:c[n],i=!1;r===!0&&(r=t.children,i=!0),r===void 0||r(e,i?()=>a:a)}function ut({url:e}){return{url:e.pathname}}const ft=!1,dt=!0,vt="always",An=Object.freeze(Object.defineProperty({__proto__:null,load:ut,prerender:dt,ssr:ft,trailingSlash:vt},Symbol.toStringTag,{value:"Module"})),Ee=[];function Q(){return window.matchMedia("(pointer: coarse)").matches}function mt(){return window.matchMedia("(prefers-color-scheme: dark)").matches}async function Pe(e){await new Promise(t=>setTimeout(t,e))}function ht(){return"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function $(e,t){try{return typeof e=="string"?(t??document).querySelector(e):e}catch{return null}}function u(e,t){try{return typeof e=="string"?(t??document).querySelectorAll(e):e??Ee}catch{return Ee}}function d(e,t){return(e==null?void 0:e.classList.contains(t))??!1}function C(e,t){var n;return((n=e==null?void 0:e.tagName)==null?void 0:n.toLowerCase())===t}function Z(e,t){var n;return((n=e==null?void 0:e.type)==null?void 0:n.toLowerCase())===t}function M(e,t){if(e instanceof NodeList)for(let n=0;n<e.length;n++)e[n].classList.add(t);else e==null||e.classList.add(t)}function b(e,t){if(e instanceof NodeList)for(let n=0;n<e.length;n++)e[n].classList.remove(t);else e==null||e.classList.remove(t)}function l(e,t,n,a=!0){e!=null&&e.addEventListener&&e.addEventListener(t,n,a)}function de(e,t,n,a=!0){e!=null&&e.removeEventListener&&e.removeEventListener(t,n,a)}function pt(e,t){var n;(n=t==null?void 0:t.parentNode)==null||n.insertBefore(e,t)}function ve(e){return e==null?void 0:e.previousElementSibling}function me(e){return e==null?void 0:e.nextElementSibling}function N(e){return e==null?void 0:e.parentElement}function gt(e){const t=document.createElement("div");for(let n=0,a=Object.keys(e),o=a.length;n<o;n++){const r=a[n],i=e[r];t.setAttribute(r,i)}return t}function he(){var e;(e=document.activeElement)==null||e.blur()}function yt(e){return u('[data-ui="#'+e+'"]')}function xt(e){return $('[data-ui="#'+e+'"]')}function bt(e){e.id&&d(e,"page")&&(e=xt(e.id)??e);const t=N(e);if(!d(t,"tabs")&&!d(t,"tabbed")&&!C(t,"nav"))return;const n=u("a",t);for(let a=0;a<n.length;a++)b(n[a],"active");M(e,"active")}function Oe(e){e.placeholder||(e.placeholder=" ")}function _t(e){const t=e.currentTarget,n=N(t),a=$("input:not([type=file], [type=checkbox], [type=radio]), select, textarea",n);a&&a.focus()}function pe(e){const t=e.currentTarget;H(t)}function ge(e){const t=e.currentTarget;H(t)}function kt(e){const t=e.currentTarget;ye(t)}function zt(e){const t=e.currentTarget;xe(t)}function wt(e){const t=e.currentTarget;ye(t,e)}function Lt(e){const t=e.currentTarget;xe(t,e)}function Tt(e){const t=e.currentTarget;je(t)}function Et(e){var t;const n=e.currentTarget,a=$("input",N(n));a&&(t=n.textContent)!=null&&t.includes("visibility")&&(a.type=a.type==="password"?"text":"password")}function Ct(){const e=u(".field > label");for(let t=0;t<e.length;t++)l(e[t],"click",_t)}function At(){const e=u(".field > input:not([type=file], [type=color], [type=range])");for(let t=0;t<e.length;t++)l(e[t],"focus",pe),l(e[t],"blur",ge),H(e[t])}function St(){const e=u(".field > select");for(let t=0;t<e.length;t++)l(e[t],"focus",pe),l(e[t],"blur",ge)}function Mt(){const e=u(".field > input[type=file]");for(let t=0;t<e.length;t++)l(e[t],"change",kt),ye(e[t])}function $t(){const e=u(".field > input[type=color]");for(let t=0;t<e.length;t++)l(e[t],"change",zt),xe(e[t])}function Nt(){const e=u(".field.textarea > textarea");for(let t=0;t<e.length;t++)l(e[t],"focus",pe),l(e[t],"blur",ge),l(e[t],"input",Tt),je(e[t])}function Pt(){const e=u("input[type=password] ~ :is(i, a)");for(let t=0;t<e.length;t++)l(e[t],"click",Et)}function H(e){Z(e,"number")&&!e.value&&(e.value=""),Oe(e)}function ye(e,t){if((t==null?void 0:t.key)==="Enter"){const a=ve(e);if(!Z(a,"file"))return;a.click();return}const n=me(e);Z(n,"text")&&(n.value=e.files?Array.from(e.files).map(a=>a.name).join(", "):"",n.readOnly=!0,l(n,"keydown",wt,!1),H(n))}function xe(e,t){if((t==null?void 0:t.key)==="Enter"){const a=ve(e);if(!Z(a,"color"))return;a.click();return}const n=me(e);Z(n,"text")&&(n.readOnly=!0,n.value=e.value,l(n,"keydown",Lt,!1),H(n))}function je(e){Oe(e);const t=N(e);t.removeAttribute("style"),d(t,"min")&&t.style.setProperty("---size",`${Math.max(e.scrollHeight,t.offsetHeight)}px`)}function Ot(){Ct(),At(),St(),Mt(),$t(),Nt(),Pt()}function Ce(e){const t=e.target;!C(t,"input")&&!C(t,"select")||(t.type==="range"?(t.focus(),De(t)):Ie())}function jt(e){if(!Q())return;const t=e.target,n=N(t);d(n,"vertical")&&document.body.classList.add("no-scroll")}function It(e){if(!Q())return;const t=e.target,n=N(t);d(n,"vertical")&&document.body.classList.remove("no-scroll")}function Ie(){const e=document.body,t=u(".slider > input[type=range]");t.length?l(e,"input",Ce,!1):de(e,"input",Ce,!1);for(let n=0;n<t.length;n++)De(t[n])}function De(e){l(e,"focus",jt),l(e,"blur",It);const t=N(e),n=$("span",t),a=u("input",t);if(!a.length||!n)return;const o=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--size"))||16,r=d(t,"max")?0:.25*o*100/a[0].offsetWidth,i=[],c=[];for(let y=0,ee=a.length;y<ee;y++){const W=parseFloat(a[y].min)||0,te=parseFloat(a[y].max)||100,K=parseFloat(a[y].value)||0,I=(K-W)*100/(te-W),R=r/2-r*I/100;i.push(I+R),c.push(K)}let s=i[0],v=0,_=100-v-s,k=c[0],A=c[1]||0;a.length>1&&(s=Math.abs(i[1]-i[0]),v=i[1]>i[0]?i[0]:i[1],_=100-v-s,A>k&&(k=c[1]||0,A=c[0])),t.style.setProperty("---start",`${v}%`),t.style.setProperty("---end",`${_}%`),t.style.setProperty("---value1",`'${k}'`),t.style.setProperty("---value2",`'${A}'`)}function Dt(){Ie()}const h={light:"",dark:""};function fe(){var e;return(e=document==null?void 0:document.body)!=null&&e.classList.contains("dark")?"dark":"light"}function qt(){if(h.light&&h.dark)return h;const e=document.body,t=document.createElement("body");t.className="light",e.appendChild(t);const n=document.createElement("body");n.className="dark",e.appendChild(n);const a=getComputedStyle(t),o=getComputedStyle(n),r=["--primary","--on-primary","--primary-container","--on-primary-container","--secondary","--on-secondary","--secondary-container","--on-secondary-container","--tertiary","--on-tertiary","--tertiary-container","--on-tertiary-container","--error","--on-error","--error-container","--on-error-container","--background","--on-background","--surface","--on-surface","--surface-variant","--on-surface-variant","--outline","--outline-variant","--shadow","--scrim","--inverse-surface","--inverse-on-surface","--inverse-primary","--surface-dim","--surface-bright","--surface-container-lowest","--surface-container-low","--surface-container","--surface-container-high","--surface-container-highest"];for(let i=0,c=r.length;i<c;i++)h.light+=r[i]+":"+a.getPropertyValue(r[i])+";",h.dark+=r[i]+":"+o.getPropertyValue(r[i])+";";return e.removeChild(t),e.removeChild(n),h}function Ut(e){const t=globalThis,n=document.body;if(!e||!t.materialDynamicColors)return qt();const a=fe();return e.light&&e.dark?(h.light=e.light,h.dark=e.dark,n.setAttribute("style",e[a]),e):t.materialDynamicColors(e).then(o=>{const r=i=>{let c="";for(let s=0,v=Object.keys(i),_=v.length;s<_;s++){const k=v[s],A=i[k],y=k.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();c+="--"+y+":"+A+";"}return c};return h.light=r(o.light),h.dark=r(o.dark),n.setAttribute("style",h[a]),h})}function qe(e){const t=globalThis,n=document.body;if(!n)return e;if(!e)return fe();e==="auto"&&(e=mt()?"dark":"light"),n.classList.remove("light","dark"),n.classList.add(e);const a=e==="light"?h.light:h.dark;return t.materialDynamicColors&&n.setAttribute("style",a),fe()}const J=[];function Ue(e){if(e.key==="Escape"){const t=e.currentTarget;Fe(t,t)}}function Bt(e){($("[autofocus]",e)??e).focus()}function Be(e,t){b(yt(e.id),"active"),b(e,"active"),b(t,"active"),e.close(),J.pop();const n=J[J.length-1];n?n.focus():Q()&&document.body.classList.remove("no-scroll")}async function Ft(e,t,n,a){!C(a,"button")&&!d(a,"button")&&!d(a,"chip")&&M(a,"active"),M(t,"active"),M(e,"active"),n?e.showModal():e.show(),await Pe(90),n||l(e,"keydown",Ue,!1),J.push(e),Q()&&document.body.classList.add("no-scroll"),Bt(e)}function Vt(e){const t=e.currentTarget,n=me(t);C(n,"dialog")&&Be(n,t)}async function Fe(e,t){he();let n=ve(t);const a=d(t,"active")||t.open,o=d(t,"modal");o||de(t,"keydown",Ue,!1),d(n,"overlay")||(n=gt({class:"overlay"}),pt(n,t),await Pe(90)),o||l(n,"click",Vt,!1),a?Be(t,n):Ft(t,n,o,e)}let ce;function Ve(e){de(document.body,"click",Ve);const t=e.target,n=u("menu.active");for(let a=0;a<n.length;a++)Ze(t,n[a],e)}function Zt(e){setTimeout(()=>{const t=$(".field > input",e);t?t.focus():e.focus()},90)}function Ze(e,t,n){ce&&clearTimeout(ce),ce=setTimeout(()=>{l(document.body,"click",Ve),C(document.activeElement,"input")||he();const a=d(t,"active"),o=(n==null?void 0:n.target)===e,r=!!e.closest("menu");if(!a&&r||a&&o){b(t,"active");return}b(u("menu.active"),"active"),M(t,"active"),Zt(t)},90)}let V;function Ht(e){const t=e.currentTarget;b(t,"active"),V&&clearTimeout(V)}function Wt(e,t){he();const n=u(".snackbar.active");for(let a=0;a<n.length;a++)b(n[a],"active");M(e,"active"),l(e,"click",Ht),V&&clearTimeout(V),t!==-1&&(V=setTimeout(()=>{b(e,"active")},t??6e3))}function Kt(e){const t=N(e);t&&b(u(":scope > .page",t),"active"),M(e,"active")}function Rt(e){Xt(e)}function Xt(e){const t=e.currentTarget,n=t.getBoundingClientRect(),a=Math.max(n.width,n.height),o=a/2,r=e.clientX-n.left-o,i=e.clientY-n.top-o,c=document.createElement("div");c.className="ripple-js";const s=document.createElement("div");s.style.inlineSize=s.style.blockSize=`${a}px`,s.style.left=`${r}px`,s.style.top=`${i}px`,s.addEventListener("animationend",()=>{c.remove()}),c.appendChild(s),t.appendChild(c)}function Yt(){const e=u(".slow-ripple, .ripple, .fast-ripple");for(let t=0;t<e.length;t++)l(e[t],"pointerdown",Rt)}let se,le;function Ae(){se&&clearTimeout(se),se=setTimeout(async()=>await D(),180)}async function be(e,t,n,a){if(!(!t&&(t=$(e.getAttribute("data-ui")),!t))){if(bt(e),C(t,"dialog")){await Fe(e,t);return}if(C(t,"menu")){Ze(e,t,a);return}if(d(t,"snackbar")){Wt(t,n);return}if(d(t,"page")){Kt(t);return}if(d(t,"active")){b(e,"active"),b(t,"active");return}M(t,"active")}}function Gt(e){be(e.currentTarget,null,null,e)}function Jt(e){e.key==="Enter"&&be(e.currentTarget,null,null,e)}function He(){le||(le=new MutationObserver(Ae),le.observe(document.body,{childList:!0,subtree:!0}),Ae())}function Qt(){const e=u("[data-ui]");for(let t=0,n=e.length;t<n;t++)l(e[t],"click",Gt),C(e[t],"a")&&!e[t].getAttribute("href")&&l(e[t],"keydown",Jt)}function D(e,t){if(e){if(e==="setup"){He();return}if(e==="guid")return ht();if(e==="mode")return qe(t);if(e==="theme")return Ut(t);const n=$(e);if(!n)return;be(n,n,t)}Qt(),Ot(),Dt(),Yt()}function en(){var e;const t=globalThis,n=(e=t==null?void 0:t.document)==null?void 0:e.body;n&&!n.classList.contains("dark")&&!n.classList.contains("light")&&qe("auto"),l(t,"load",He,!1),t.ui=D}en();function Se(e,t){E(t,!0),setTimeout(function(){E(t,!1)},2e3),navigator.clipboard.writeText("https://chat.maxid.me/")}function tn(e,t){D("mode")=="light"?(D("mode","dark"),E(t,!1)):(D("mode","light"),E(t,!0))}var nn=w('<img class="circle svelte-zxhmnu" alt="your profile picture">'),an=w('<i class="svelte-zxhmnu">account_circle</i>'),rn=w('<i class="svelte-zxhmnu">account_circle</i>'),on=w('<i class="svelte-zxhmnu">dark_mode</i> <div class="svelte-zxhmnu">Dark mode</div>',1),cn=w('<i class="svelte-zxhmnu">light_mode</i> <div class="svelte-zxhmnu">White mode</div>',1),sn=w('<a href="/account"><img class="circle top-margin svelte-zxhmnu" alt="your profile picture"></a>'),ln=w('<a href="/account"><i class="svelte-zxhmnu">account_circle</i> <div class="svelte-zxhmnu">Login</div></a>'),un=w('<a href="/account"><i class="svelte-zxhmnu">account_circle</i> <div class="svelte-zxhmnu">Login</div></a>'),fn=w(`<nav class="m l left right-padding svelte-zxhmnu" style="overflow-x: hidden;"><a href="/account"><!> <div class="svelte-zxhmnu">Your Account</div></a> <a href="/"><i class="svelte-zxhmnu">forum</i> <div class="svelte-zxhmnu">Chat</div></a> <a class="svelte-zxhmnu"><i class="svelte-zxhmnu">share</i> <div class="svelte-zxhmnu">Share</div></a> <a class="svelte-zxhmnu"><!></a> <div class="max svelte-zxhmnu"></div> <a href="/about"><i class="svelte-zxhmnu">info</i> <div class="svelte-zxhmnu">About</div></a></nav> <nav class="s bottom svelte-zxhmnu"><!> <a href="/"><i class="svelte-zxhmnu">forum</i> <div class="svelte-zxhmnu">Chat</div></a> <a class="svelte-zxhmnu"><i class="svelte-zxhmnu">share</i> <div class="svelte-zxhmnu">Share</div></a> <a href="/about"><i class="svelte-zxhmnu">info</i> <div class="svelte-zxhmnu">About</div></a></nav> <div id="share_button_snackbar"><i class="svelte-zxhmnu">content_paste</i> Copied link to
    clipboard!</div>`,1);function dn(e,t){$e(t,!0);let n="",a=X(!1),o=X(!1);ot(async()=>{E(r,B(await new P().validateLogin())),E(i,B(new P)),E(o,D("mode")==="light")});let r=X(!1),i=X(B(new P));ct(async()=>{let f=new P().validateLogin(),m=new P;(f!=L(r)||m.username!=L(i).username)&&(E(r,B(await new P().validateLogin())),E(i,B(new P)))}),st(()=>{});var c=fn(),s=F(c),v=O(s),_=O(v);we(_,()=>L(r),f=>{var m=rn();g(f,m)},(f,m)=>{var q=ze(),ne=F(q);{var ae=p=>{var x=nn();U(()=>Le(x,"src",`${n??""}/icons/${L(i).username??""}.png`)),g(p,x)},re=p=>{var x=an();g(p,x)};oe(ne,p=>{L(m)?p(ae):p(re,!1)})}g(f,q)}),ie(2),j(v);var k=z(v,2),A=z(k,2);A.__click=[Se,a];var y=z(A,2);y.__click=[tn,o];var ee=O(y);{var W=f=>{var m=on();ie(2),g(f,m)},te=f=>{var m=cn();ie(2),g(f,m)};oe(ee,f=>{L(o)?f(W):f(te,!1)})}j(y);var K=z(y,4);j(s);var I=z(s,2),R=O(I);we(R,()=>L(r),f=>{var m=un();U(()=>T(m,`${(S.url.pathname==="/account"?"active":"")??""} svelte-zxhmnu`)),g(f,m)},(f,m)=>{var q=ze(),ne=F(q);{var ae=p=>{var x=sn(),Re=O(x);j(x),U(()=>{T(x,`bottom-margin ${(S.url.pathname==="/account"?"active":"")??""} svelte-zxhmnu`),Le(Re,"src",`${n??""}/icons/${L(i).username??""}.png`)}),g(p,x)},re=p=>{var x=ln();U(()=>T(x,`${(S.url.pathname==="/account"?"active":"")??""} svelte-zxhmnu`)),g(p,x)};oe(ne,p=>{L(m)?p(ae):p(re,!1)})}g(f,q)});var _e=z(R,2),ke=z(_e,2);ke.__click=[Se,a];var We=z(ke,2);j(I);var Ke=z(I,2);U(()=>{T(v,`account padding ${(S.url.pathname==="/account"?"active":"")??""} svelte-zxhmnu`),T(k,`${(S.url.pathname==="/"?"active":"")??""} svelte-zxhmnu`),T(K,`${(S.url.pathname==="/about"?"active":"")??""} svelte-zxhmnu`),T(_e,`${(S.url.pathname==="/"?"active":"")??""} svelte-zxhmnu`),T(We,`${(S.url.pathname==="/about"?"active":"")??""} svelte-zxhmnu`),T(Ke,`snackbar primary absolute center bottom ${(L(a)?"active":"")??""} svelte-zxhmnu`)}),g(e,c),Ne()}it(["click"]);var vn=w('<div class="l m"><!></div> <div class="s"><!></div>',1),mn=w("<!> <!>",1);function Sn(e,t){$e(t,!1);let n=rt(t,"data",8);at();var a=mn(),o=F(a);dn(o,{});var r=z(o,2);lt(r,()=>n().url,i=>{var c=vn(),s=F(c),v=O(s);Te(v,t,"default",{}),j(s);var _=z(s,2),k=O(_);Te(k,t,"default",{}),j(_),Y(1,s,()=>G,()=>({y:-200,duration:300,delay:100})),Y(2,s,()=>G,()=>({y:200,duration:100})),Y(1,_,()=>G,()=>({x:-200,duration:300,delay:100})),Y(2,_,()=>G,()=>({x:200,duration:100})),g(i,c)}),g(e,a),Ne()}export{Sn as component,An as universal};
