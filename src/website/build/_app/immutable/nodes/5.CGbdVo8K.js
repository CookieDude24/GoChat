import{a as Y,t as Z}from"../chunks/ekuua-q1.js";import{p as tt,f as at,t as et,a as ot,I as r,i as p,J as k,c as e,s as t,r as o}from"../chunks/OeBgpfWH.js";import{d as nt}from"../chunks/B2dZsSmx.js";import{g as rt,b as $,U as j,s as it}from"../chunks/zbrIkN8n.js";import{p as G}from"../chunks/CQ_fv8ng.js";import{b as st}from"../chunks/BHSylV5-.js";import{g as x,i as ct}from"../chunks/C8Se1FIl.js";import{A as lt}from"../chunks/1rXNkVzl.js";import{S as H}from"../chunks/q9UiX0Kj.js";function q(d,i){r(i,!0),navigator.clipboard.writeText(rt("user_id"))}function h(d,i){r(i,!p(i))}var ut=()=>{x("/account/rename")},pt=()=>{x("/account/rename")},dt=Z(`<!> <dialog><h3 class="margin">Upload your profile picture</h3> <p class="margin">Click on the button below to upload your own custom profile picture</p> <p class="margin bold deep-orange-text">Updating the profile picture may take a few minutes (waiting for browser
        cache invalidation)!</p> <button class="tertiary-container extra margin"><i>attach_file</i> <span>File</span> <input type="file" id="photo" accept="image"></button> <nav class="center-align"><button class="extra fill">Cancel</button> <button type="submit" class="extra ">Confirm</button></nav></dialog> <nav class="center-align l"><div class="column"><div class="row center-align"><button class="round tertiary-container extra"><i>logout</i> <span>Log out of your account</span></button> <button class="round tertiary-container extra"><i>delete</i> <span>Delete your account</span></button></div> <div class="row center-align"><button class="round secondary-container extra"><i>upload</i> <span>Upload New Profile Picture</span></button> <button class="round secondary-container extra"><i>edit</i> <span>Edit your username</span></button> <button class="round extra secondary-container"><i>content_paste</i> <span>Copy API-Key to Clipboard</span></button></div></div></nav> <nav class="center-align s m vertical"><button class="round tertiary-container responsive"><i>delete</i> <span>Delete your account</span></button> <button class="round tertiary-container responsive"><i>logout</i> <span>Log out of your account</span></button> <button class="round fill responsive"><i>content_paste</i> <span>Copy API-Key to Clipboard</span></button> <button class="round secondary-container responsive"><i>edit</i> <span>Edit your username</span></button> <button class="round secondary-container responsive"><i>upload</i> <span>Upload Profile Picture</span></button></nav> <!> <!>`,1);function xt(d,i){tt(i,!0);let v=new j,c=k(!1),_,s=k(!1),l=k(!1);function b(){v.signout(),x("/")}async function z(){let a=new FormData;a.append("username",v.username),a.append("user_id",v.apikey),a.append("photo",_.files[0]);try{const n=await fetch($+"/uploadicon",{method:"POST",body:a});n.ok?(console.log("Image uploaded successfully!"),ct(),r(s,!1),location.reload()):(console.error("Failed to upload image. Status:",n.status),r(l,!0))}catch(n){console.error("Error uploading image:",n),n=!0}setTimeout(()=>{r(l,!1)},5e3)}function w(){const a=new j;let n=a.username,X=a.apikey;fetch($+"/account",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,user_id:X})}).then(async O=>{O.status===204?b():console.log(`HTTP error! status: ${O.status}`)}),console.log("deleted Account")}var P=dt(),A=at(P);lt(A,{text:"Access your API-Key, change your profile picture or logout here!"});var u=t(A,2),m=t(e(u),6),B=t(e(m),4);st(B,a=>_=a,()=>_),o(m);var C=t(m,2),E=e(C);E.__click=[h,s];var M=t(E,2);M.__click=z,o(C),o(u);var f=t(u,2),I=e(f),g=e(I),T=e(g);T.__click=b;var Q=t(T,2);Q.__click=w,o(g);var D=t(g,2),U=e(D);U.__click=[h,s];var K=t(U,2);K.__click=[ut];var R=t(K,2);R.__click=[q,c],o(D),o(I),o(f);var y=t(f,2),S=e(y);S.__click=w;var F=t(S,2);F.__click=b;var L=t(F,2);L.__click=[q,c];var J=t(L,2);J.__click=[pt];var V=t(J,2);V.__click=[h,s],o(y);var N=t(y,2);H(N,{text:"API-Key successfully copied to clipboard!",get active(){return p(c)},set active(a){r(c,G(a))}});var W=t(N,2);H(W,{text:"Error uploading profile picture!",error:!0,get active(){return p(l)},set active(a){r(l,G(a))}}),et(()=>it(u,`${(p(s)?"active":"inactive")??""} center-align max`)),Y(d,P),ot()}nt(["click"]);export{xt as component};
