import{a as S,t as J}from"../chunks/ekuua-q1.js";import{p as L,f as P,a as j,i as s,I as u,J as x,s as t,c as m,K as h,r as c}from"../chunks/OeBgpfWH.js";import{d as G}from"../chunks/B2dZsSmx.js";import{r as y}from"../chunks/Ckmd1NMn.js";import{b as k}from"../chunks/Bh7X7d1Y.js";import{p as H}from"../chunks/CQ_fv8ng.js";import{A as I}from"../chunks/1rXNkVzl.js";import{b as K,U as N}from"../chunks/zbrIkN8n.js";import{g as O}from"../chunks/C8Se1FIl.js";import{S as U}from"../chunks/q9UiX0Kj.js";function w(b,o,e){const a=new N;let i=a.username,l=a.apikey;fetch(K+"/users",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,user_id:l,message:s(o)})}).then(async r=>{r.status===204?(O("/account"),a.setUsername(s(o))):(console.log(`HTTP error! status: ${r.status}`),u(e,!0))})}var $=J('<!> <!> <nav class="center-align l"><div class="field label round fill  extra"><input type="text" name="message" maxLength="20"> <label>new Username</label></div> <button class="round primary-container extra"><i>check</i> <span>Confirm</span></button></nav> <nav class="center-align s m vertical"><div class="field label round  fill extra"><input type="text" name="message" maxLength="20"> <label>new Username</label></div> <button class="round primary-container extra"><i>check</i> <span>Confirm</span></button></nav> <!>',1);function W(b,o){L(o,!0);let e=x(""),a=x(!1);var i=$(),l=P(i);I(l,{text:"Change your username here, but beware max. 20 characters"});var r=t(l,2);U(r,{text:"Username already taken!",error:!0,active:!0});var p=t(r,2),v=m(p),g=m(v);y(g),h(2),c(v);var C=t(v,2);C.__click=[w,e,a],c(p);var d=t(p,2),f=m(d),_=m(f);y(_),h(2),c(f);var T=t(f,2);T.__click=[w,e,a],c(d);var A=t(d,2);U(A,{text:"Username already taken!",error:!0,get active(){return s(a)},set active(n){u(a,H(n))}}),k(g,()=>s(e),n=>u(e,n)),k(_,()=>s(e),n=>u(e,n)),S(b,i),j()}G(["click"]);export{W as component};
